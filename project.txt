# 승무원 AI 면접 코칭 시스템 - 프로젝트 요약
# 마지막 업데이트: 2026-01-14

## 프로젝트 개요
- 항공사 승무원 면접 준비를 위한 AI 코칭 시스템
- Streamlit 기반 웹 애플리케이션
- OpenAI GPT-4o-mini API 사용

## 실행 방법
```
cd C:\Users\ADMIN\ai_tutor
streamlit run 자소서분석.py
```
또는 PowerShell:
```
powershell -Command "Set-Location 'C:\Users\ADMIN\ai_tutor'; streamlit run '자소서분석.py'"
```

## 프로젝트 구조
```
C:\Users\ADMIN\ai_tutor\
├── 자소서분석.py          # 메인 앱 (구 app.py에서 이름 변경)
├── config.py              # 설정, 항공사 데이터, 질문 템플릿
├── llm_utils.py           # LLM API 호출, JSON 파싱
├── analysis.py            # 자소서 분석 로직
├── text_utils.py          # 텍스트 처리 유틸리티
├── feedback_analyzer.py   # 피드백 분석
├── english_interview_data.py  # 영어면접 데이터
├── pages/
│   ├── 1_롤플레잉.py      # 롤플레잉 연습
│   ├── 2_영어면접.py      # 영어면접 연습
│   ├── 4_모의면접.py      # 실전 모의면접
│   ├── 5_토론면접.py      # 토론면접 시뮬레이션
│   └── 7_합격자DB.py      # 합격자 경험담 및 항공사 정보
```

## 지원 항공사 (11개)
1. 대한항공 (FSC)
2. 아시아나항공 (FSC)
3. 제주항공 (LCC)
4. 진에어 (LCC)
5. 티웨이항공 (LCC)
6. 에어부산 (LCC)
7. 에어서울 (LCC)
8. 이스타항공 (LCC)
9. 에어로케이 (LCC)
10. 에어프레미아 (LCC)
11. 파라타항공 (LCC) - 구 플라이강원에서 변경

## 최근 수정 사항 (2026-01-14)

### 1. 사이드바 이름 변경
- app.py → 자소서분석.py로 파일명 변경
- 사이드바에 "app" 대신 "자소서분석"으로 표시

### 2. 꼬리질문 시제 문제 수정
- llm_utils.py의 generate_q3_from_answer 함수
- 미래형 답변("~하겠습니다")에 과거형 질문("~하셨는데") 방지
- 시제에 맞는 꼬리질문 생성

### 3. Q2 질문 문장 추출 로직 개선
- llm_utils.py의 _llm_build_messages_for_extract 함수
- over_idealized_points에서 검증 가능한 구체적 문장만 추출
- 추상적/비유적 문장 ("다큐멘터리 같았다" 등) 배제

### 4. 롤플레잉 방향성 안내 추가
- pages/1_롤플레잉.py
- 학습 가이드 박스 추가
- "당신 = 승무원", "AI = 승객" 역할 명확히 표시

### 5. 영어면접 엄격 평가
- pages/2_영어면접.py
- 문법/철자 오류 1개당 -1점 감점
- 10점 만점 기준 상세 점수 가이드

### 6. 모의면접 타이머 수정
- pages/4_모의면접.py
- "답변 시작" 버튼 추가 → 버튼 클릭 시 타이머 시작
- JavaScript 기반 실시간 타이머 (매초 업데이트)
- 색상 변화: 초록(~60초) → 주황(60~90초) → 빨강(90초+)
- 평가 기준 엄격화 (점수 가이드 상세화)

### 7. 토론면접 개선
- pages/5_토론면접.py
- 토론 주제 6개 → 12개로 확대
- 학습 가이드 박스 추가

### 8. 합격자 DB 완성
- pages/7_합격자DB.py
- 11개 항공사 모두 AIRLINE_INFO에 포함
- 에어로케이, 에어프레미아, 파라타항공 정보 추가

### 9. 항공사 이름 표기 통일
- config.py의 AIRLINES 리스트
- 제주→제주항공, 티웨이→티웨이항공, 이스타→이스타항공, 아시아나→아시아나항공

### 10. Q2 LLM FSC/LCC 구분 (신규)
- llm_utils.py의 _llm_build_messages_for_extract 함수에 airline 파라미터 추가
- FSC(대한항공, 아시아나항공): "이 판단이 안전한가" 중심 질문
- LCC: "이 판단이 현장에서 통하는가" 중심 질문
- 항공사 유형에 따라 공격 포인트 추출 방식 차별화

### 11. 꿈 질문 템플릿 수정 (신규)
- config.py의 Q2_DREAM_TEMPLATES, Q2_DREAM_TEMPLATES_SOFT
- 모든 템플릿에 {point} 포함하여 구체적인 꿈/목표 명시
- "그 꿈을 이루기 위해..." → "'{point}'를 이루기 위해..."

### 12. 플라이강원 → 파라타항공 변경 (신규)
- config.py, pages/7_합격자DB.py 모두 변경
- 파라타항공 정보 업데이트 (신생 항공사 특성 반영)

### 13. 불필요한 텍스트 삭제 (신규)
- 자소서분석.py의 "단일 app.py / 외부 API·LLM 없음 / 무작위 없음 / 결정론적 재생성" 삭제
- 제목: "승무원 AI 면접 코칭 MVP (Streamlit)" → "승무원 AI 면접 코칭"

## 테스트 체크리스트
새 채팅 시작 시 Streamlit 실행 후 다음 기능 테스트:

1. [ ] 자소서분석 - 질문 생성 (FSC/LCC 구분 확인)
2. [ ] 롤플레잉 - 가이드 표시, 역할 구분
3. [ ] 영어면접 - 엄격한 문법 평가
4. [ ] 모의면접 - "답변 시작" 버튼, 실시간 타이머
5. [ ] 토론면접 - 12개 주제, 가이드 표시
6. [ ] 합격자DB - 11개 항공사 정보 (파라타항공 포함)

## 환경 설정
- OPENAI_API_KEY 환경변수 필요
- Python 3.x + Streamlit
- 기본 포트: 8501 (사용 중이면 8502, 8503 등)

## 참고 문서
- 바탕화면의 "항공사" 파일: FSC vs LCC 질문 스타일 가이드
  - FSC: 안전·규정·책임·조직 판단 중심
  - LCC: 현장 대응·효율·유연성·실무 판단 중심
